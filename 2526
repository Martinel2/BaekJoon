#include <stdio.h>
 
const int MAX_N = 1000;
int visited[MAX_N];
int num, N, P, ans;
int main() {
    // freopen("input.txt", "r", stdin);
    scanf("%d %d", &N, &P);
 
    int cnt = 1;
    num = N;
    visited[num] = cnt;
    while (true) {
        num = (num * N) % P;
        cnt++;
        if (visited[num]) {
            ans = cnt - visited[num];
            break;
        }
        visited[num] = cnt;
    }
 
    printf("%d\n", ans);
}
